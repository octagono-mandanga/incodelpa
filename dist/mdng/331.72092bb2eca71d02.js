"use strict";(self.webpackChunkmdng=self.webpackChunkmdng||[]).push([[331],{3331:(F,h,c)=>{c.r(h),c.d(h,{RootInstitucionModule:()=>q});var t=c(6814),s=c(4887),o=c(9468),m=c(932),x=c(5861);function f(n,a){if(1&n&&(o.TgZ(0,"div",8)(1,"strong"),o._uU(2),o.qZA(),o._uU(3),o.qZA()),2&n){const e=a.$implicit,i=o.oxw(3);o.xp6(2),o.hij("",e.displayName,":"),o.xp6(1),o.hij(" ",i.entityData[e.key]," ")}}const d=function(n,a){return[n,a]};function _(n,a){if(1&n&&(o.TgZ(0,"a",9),o._uU(1,"Editar"),o.qZA()),2&n){const e=o.oxw(3);o.Q6J("routerLink",o.WLB(1,d,e.config.actions.edit,e.entityData.id))}}function u(n,a){if(1&n&&(o.ynx(0),o.YNc(1,f,4,2,"div",6),o.YNc(2,_,2,4,"a",7),o.BQk()),2&n){const e=o.oxw(2);o.xp6(1),o.Q6J("ngForOf",e.config.columns),o.xp6(1),o.Q6J("ngIf",e.config.actions.edit)}}function p(n,a){if(1&n&&(o.TgZ(0,"div",2)(1,"div",3)(2,"h5",4),o._uU(3,"Detalles"),o.qZA(),o.YNc(4,u,3,2,"ng-container",5),o.qZA()()),2&n){const e=o.oxw();o.xp6(4),o.Q6J("ngIf",e.entityData)}}const l=function(n){return[n,1]};function v(n,a){if(1&n&&(o.TgZ(0,"p"),o._uU(1,"No hay datos disponibles."),o.qZA(),o.TgZ(2,"a",10),o._uU(3,"Crear"),o.qZA()),2&n){const e=o.oxw();o.xp6(2),o.Q6J("routerLink",o.VKq(1,l,e.config.actions.edit))}}let b=(()=>{class n{constructor(e){this.crudService=e}ngOnInit(){return(0,x.Z)(function*(){})()}loadEntityData(){}static#t=this.\u0275fac=function(i){return new(i||n)(o.Y36(m.I))};static#e=this.\u0275cmp=o.Xpm({type:n,selectors:[["app-entity-display"]],inputs:{config:"config",entityData:"entityData"},decls:3,vars:1,consts:[["class","card p-3",4,"ngIf"],["noDataTemplate",""],[1,"card","p-3"],[1,"card-body"],[1,"card-title"],[4,"ngIf"],["class","mb-2",4,"ngFor","ngForOf"],["class","btn btn-success",3,"routerLink",4,"ngIf"],[1,"mb-2"],[1,"btn","btn-success",3,"routerLink"],[1,"btn","btn-primary",3,"routerLink"]],template:function(i,r){1&i&&(o.YNc(0,p,5,1,"div",0),o.YNc(1,v,4,3,"ng-template",null,1,o.W1O)),2&i&&o.Q6J("ngIf",r.entityData)},dependencies:[t.sg,t.O5,s.rH],styles:[".card-body[_ngcontent-%COMP%]{background-color:#f8f9fa;border-radius:.25rem}.mb-2[_ngcontent-%COMP%]{margin-bottom:1rem!important}.card-title[_ngcontent-%COMP%]{color:#4a5568;margin-bottom:1.5rem}.btn-success[_ngcontent-%COMP%], .btn-primary[_ngcontent-%COMP%]{margin-top:1rem}"]})}return n})();var C=c(6688);function T(n,a){1&n&&(o.TgZ(0,"div",5),o._UZ(1,"app-loading",6),o.qZA())}let N=(()=>{class n{constructor(e){this.crudService=e,this.loading=!1,this.config={columns:[{key:"tipo",displayName:"Tipo"},{key:"nombre",displayName:"Nombre"},{key:"direccion",displayName:"Direccion"},{key:"telefono",displayName:"Telefono"},{key:"email",displayName:"Email"},{key:"dane",displayName:"Dane"},{key:"url",displayName:"URL"}],actions:{edit:"/root/institucion/form"}}}ngOnInit(){this.loading=!0,this.crudService.read("/root/institucion/",{}).subscribe({next:e=>{this.data=e.data,this.loading=!1},error:e=>{console.error("Error al obtener los roles del usuario",e)}})}static#t=this.\u0275fac=function(i){return new(i||n)(o.Y36(m.I))};static#e=this.\u0275cmp=o.Xpm({type:n,selectors:[["app-root-institucion"]],decls:6,vars:3,consts:[["aria-label","breadcrumb"],[1,"breadcrumb"],["aria-current","page",1,"breadcrumb-item","active"],["class","d-flex justify-content-center py5- my-5",4,"ngIf"],[3,"config","entityData"],[1,"d-flex","justify-content-center","py5-","my-5"],["size","100px"]],template:function(i,r){1&i&&(o.TgZ(0,"nav",0)(1,"ol",1)(2,"li",2),o._uU(3,"Institucion"),o.qZA()()(),o.YNc(4,T,2,0,"div",3),o._UZ(5,"app-entity-display",4)),2&i&&(o.xp6(4),o.Q6J("ngIf",r.loading),o.xp6(1),o.Q6J("config",r.config)("entityData",r.data))},dependencies:[t.O5,b,C.N]})}return n})();var I=c(4013);const Z=[{path:"",component:N},{path:"form/:id",component:(()=>{class n{constructor(e,i){this.route=e,this.crudService=i,this.success=!0,this.loading=!1}ngOnInit(){this.config={columns:[{key:"tipo",displayName:"Tipo",required:!0,type:"text"},{key:"nombre",displayName:"Nombre",required:!0,type:"text"},{key:"direccion",displayName:"Direccion",required:!0,type:"text"},{key:"telefono",displayName:"Telefono",type:"text"},{key:"email",displayName:"Email",required:!0,type:"email"},{key:"dane",displayName:"Dane",type:"text"},{key:"url",displayName:"URL",type:"text"}],actions:{}},this.loading=!0,this.id=this.route.snapshot.params.id,this.crudService.read("/root/institucion").subscribe({next:e=>{this.data=e.data,this.loading=!1},error:e=>{this.message="Error al obtener los datos "+e,this.success=!1}})}onActualizar(e){this.loading=!0,this.crudService.update(e,"/root/institucion/"+this.id).subscribe({next:i=>{this.data=i.data,this.message=i.message,this.success=!0,this.loading=!1},error:i=>{this.loading=!1,this.message="Error al actualizar "+i,this.success=!1}}),setTimeout(()=>{this.message=""},5e3)}static#t=this.\u0275fac=function(i){return new(i||n)(o.Y36(s.gz),o.Y36(m.I))};static#e=this.\u0275cmp=o.Xpm({type:n,selectors:[["app-root-institucion-form"]],decls:8,vars:5,consts:[["aria-label","breadcrumb"],[1,"breadcrumb"],[1,"breadcrumb-item"],["routerLink","/root/institucion"],["aria-current","page",1,"breadcrumb-item","active"],[3,"loading","message","success","config","entityData","event"]],template:function(i,r){1&i&&(o.TgZ(0,"nav",0)(1,"ol",1)(2,"li",2)(3,"a",3),o._uU(4,"Institucion"),o.qZA()(),o.TgZ(5,"li",4),o._uU(6,"Editar"),o.qZA()()(),o.TgZ(7,"app-formulario",5),o.NdJ("event",function(y){return r.onActualizar(y)}),o.qZA()),2&i&&(o.xp6(7),o.Q6J("loading",r.loading)("message",r.message)("success",r.success)("config",r.config)("entityData",r.data))},dependencies:[s.rH,I.o]})}return n})()}];let J=(()=>{class n{static#t=this.\u0275fac=function(i){return new(i||n)};static#e=this.\u0275mod=o.oAB({type:n});static#n=this.\u0275inj=o.cJS({imports:[s.Bz.forChild(Z),s.Bz]})}return n})();var D=c(6208);let q=(()=>{class n{static#t=this.\u0275fac=function(i){return new(i||n)};static#e=this.\u0275mod=o.oAB({type:n});static#n=this.\u0275inj=o.cJS({imports:[t.ez,J,D.m]})}return n})()},4013:(F,h,c)=>{c.d(h,{o:()=>q});var t=c(9468),s=c(95),o=c(6814),m=c(6688);const x=function(n,a){return{"alert-success":n,"alert-danger":a}};function f(n,a){if(1&n&&(t.TgZ(0,"div",4),t._uU(1),t.qZA()),2&n){const e=t.oxw();t.Q6J("ngClass",t.WLB(2,x,e.success,!e.success)),t.xp6(1),t.hij(" ",e.message,"\n")}}function d(n,a){if(1&n&&(t.TgZ(0,"div",5),t._UZ(1,"app-loading",6),t.TgZ(2,"h4",7),t._uU(3),t.qZA()()),2&n){const e=t.oxw();t.xp6(3),t.hij(" Cargando ",e.msg,"... ")}}function _(n,a){1&n&&(t.TgZ(0,"span"),t._uU(1,"*"),t.qZA())}function u(n,a){if(1&n&&(t.TgZ(0,"label",21),t.YNc(1,_,2,0,"span",22),t._uU(2),t.qZA()),2&n){const e=t.oxw().$implicit;t.xp6(1),t.Q6J("ngIf",e.required),t.xp6(1),t.hij(" ",e.displayName," ")}}function p(n,a){if(1&n&&t._UZ(0,"input",23),2&n){const e=t.oxw().$implicit;let i;t.Q6J("name",e.key)("value",e.value)("required",null!==(i=e.required)&&void 0!==i&&i)}}function l(n,a){if(1&n&&t._UZ(0,"input",24),2&n){const e=t.oxw().$implicit;let i;t.s9C("type",e.type),t.Q6J("formControlName",e.key)("required",null!==(i=e.required)&&void 0!==i&&i)}}function v(n,a){if(1&n&&t._UZ(0,"input",25),2&n){const e=t.oxw().$implicit;let i;t.Q6J("formControlName",e.key)("required",null!==(i=e.required)&&void 0!==i&&i)}}function b(n,a){if(1&n&&t._UZ(0,"textarea",26),2&n){const e=t.oxw().$implicit;let i;t.Q6J("formControlName",e.key)("required",null!==(i=e.required)&&void 0!==i&&i)}}function C(n,a){if(1&n&&t._UZ(0,"input",27),2&n){const e=t.oxw().$implicit;let i;t.Q6J("formControlName",e.key)("required",null!==(i=e.required)&&void 0!==i&&i)}}function T(n,a){if(1&n&&(t.TgZ(0,"option",30),t._uU(1),t.qZA()),2&n){const e=a.$implicit;t.Q6J("value",e.value),t.xp6(1),t.Oqu(e.displayValue)}}function N(n,a){if(1&n){const e=t.EpF();t.TgZ(0,"select",28),t.NdJ("change",function(r){t.CHM(e);const g=t.oxw().$implicit,y=t.oxw(2);return t.KtG(y.onSelectChange(r,g.key))}),t.YNc(1,T,2,2,"option",29),t.qZA()}if(2&n){const e=t.oxw().$implicit;t.Q6J("formControlName",e.key),t.xp6(1),t.Q6J("ngForOf",e.options)}}function I(n,a){if(1&n&&(t.TgZ(0,"div",31),t._uU(1),t.qZA()),2&n){const e=t.oxw().$implicit;t.xp6(1),t.hij(" ",e.displayName," es requerido. ")}}function Q(n,a){if(1&n&&(t.TgZ(0,"div",12),t.YNc(1,u,3,2,"label",13),t.YNc(2,p,1,3,"input",14),t.YNc(3,l,1,3,"input",15),t.YNc(4,v,1,2,"input",16),t.YNc(5,b,1,2,"textarea",17),t.YNc(6,C,1,2,"input",18),t.YNc(7,N,2,2,"select",19),t.YNc(8,I,2,1,"div",20),t.qZA()),2&n){const e=a.$implicit,i=t.oxw(2);let r;t.xp6(1),t.Q6J("ngIf",e.displayName),t.xp6(1),t.Q6J("ngIf","hidden"===e.type),t.xp6(1),t.Q6J("ngIf","text"===e.type||"email"===e.type),t.xp6(1),t.Q6J("ngIf","number"===e.type),t.xp6(1),t.Q6J("ngIf","textarea"===e.type),t.xp6(1),t.Q6J("ngIf","date"===e.type),t.xp6(1),t.Q6J("ngIf","select"===e.type),t.xp6(1),t.Q6J("ngIf",(null==(r=i.form.get(e.key))?null:r.invalid)&&(null==(r=i.form.get(e.key))?null:r.touched))}}function Z(n,a){if(1&n&&(t.TgZ(0,"button",32),t._uU(1,"Actualizar"),t.qZA()),2&n){const e=t.oxw(2);t.Q6J("disabled",e.form.invalid)}}function J(n,a){if(1&n&&(t.TgZ(0,"button",33),t._uU(1,"Procesar"),t.qZA()),2&n){const e=t.oxw(2);t.Q6J("disabled",e.form.invalid)}}function D(n,a){if(1&n){const e=t.EpF();t.TgZ(0,"form",8),t.NdJ("ngSubmit",function(){t.CHM(e);const r=t.oxw();return t.KtG(r.onSubmit())}),t.YNc(1,Q,9,8,"div",9),t.YNc(2,Z,2,1,"button",10),t.YNc(3,J,2,1,"button",11),t.qZA()}if(2&n){const e=t.oxw();t.Q6J("formGroup",e.form),t.xp6(1),t.Q6J("ngForOf",e.config.columns),t.xp6(1),t.Q6J("ngIf",e.entityData),t.xp6(1),t.Q6J("ngIf",!e.entityData)}}let q=(()=>{class n{constructor(e){this.fb=e,this.event=new t.vpe,this.success=!0,this.loading=!1}ngOnInit(){this.form=this.createGroup()}ngOnChanges(e){e.entityData&&e.entityData.previousValue!==e.entityData.currentValue&&(this.form=this.createGroup())}createGroup(){const e=this.fb.group({});return this.config&&this.config.columns&&this.config.columns.forEach(i=>{const r=this.entityData?this.entityData[i.key]:"";let g=i.required?[s.kI.required]:[];"email"===i.type&&g.push(s.kI.email);let y=this.fb.control(r,g);"date"===i.type&&y.setValue(r?new Date(r).toISOString().substring(0,10):""),e.addControl(i.key,y)}),e}onSubmit(){this.form.valid&&this.event.emit(this.form.value)}onSelectChange(e,i){const g=e.target.value;g&&this.config.columns.find(y=>y.key===i)?.changevalue&&this.event.emit({data:g})}static#t=this.\u0275fac=function(i){return new(i||n)(t.Y36(s.qu))};static#e=this.\u0275cmp=t.Xpm({type:n,selectors:[["app-formulario"]],inputs:{config:"config",entityData:"entityData",message:"message",msg:"msg",success:"success",loading:"loading"},outputs:{event:"event"},features:[t.TTD],decls:4,vars:3,consts:[["class","alert","role","alert",3,"ngClass",4,"ngIf"],[1,"container","p-4"],["class","d-flex  justify-content-center",4,"ngIf"],[3,"formGroup","ngSubmit",4,"ngIf"],["role","alert",1,"alert",3,"ngClass"],[1,"d-flex","justify-content-center"],["size","20px"],[1,"ms-2","text-secondary"],[3,"formGroup","ngSubmit"],["class","form-group mb-2",4,"ngFor","ngForOf"],["type","submit","class","btn btn-success mt-2",3,"disabled",4,"ngIf"],["type","submit","class","btn btn-primary mt-2",3,"disabled",4,"ngIf"],[1,"form-group","mb-2"],["class","text-secondary",4,"ngIf"],["type","hidden",3,"name","value","required",4,"ngIf"],["class","form-control",3,"type","formControlName","required",4,"ngIf"],["type","number","class","form-control","step","any",3,"formControlName","required",4,"ngIf"],["class","form-control","rows","3",3,"formControlName","required",4,"ngIf"],["type","date","class","form-control",3,"formControlName","required",4,"ngIf"],["class","form-select",3,"formControlName","change",4,"ngIf"],["class","text-danger",4,"ngIf"],[1,"text-secondary"],[4,"ngIf"],["type","hidden",3,"name","value","required"],[1,"form-control",3,"type","formControlName","required"],["type","number","step","any",1,"form-control",3,"formControlName","required"],["rows","3",1,"form-control",3,"formControlName","required"],["type","date",1,"form-control",3,"formControlName","required"],[1,"form-select",3,"formControlName","change"],[3,"value",4,"ngFor","ngForOf"],[3,"value"],[1,"text-danger"],["type","submit",1,"btn","btn-success","mt-2",3,"disabled"],["type","submit",1,"btn","btn-primary","mt-2",3,"disabled"]],template:function(i,r){1&i&&(t.YNc(0,f,2,5,"div",0),t.TgZ(1,"div",1),t.YNc(2,d,4,1,"div",2),t.YNc(3,D,4,4,"form",3),t.qZA()),2&i&&(t.Q6J("ngIf",r.message),t.xp6(2),t.Q6J("ngIf",r.loading),t.xp6(1),t.Q6J("ngIf",r.form&&!r.loading))},dependencies:[o.mk,o.sg,o.O5,s._Y,s.YN,s.Kr,s.Fj,s.wV,s.EJ,s.JJ,s.JL,s.Q7,s.sg,s.u,m.N],styles:[".container[_ngcontent-%COMP%]{background-color:#fff;padding:2rem;border-radius:.5rem;box-shadow:0 .5rem 1rem #0000001a}.alert[_ngcontent-%COMP%]{position:fixed;top:20px;right:20px;z-index:1050;border-radius:4px;animation:_ngcontent-%COMP%_fadeAlert .5s}@keyframes _ngcontent-%COMP%_fadeAlert{0%{opacity:0;transform:translate(100%)}to{opacity:1;transform:translate(0)}}"]})}return n})()},5861:(F,h,c)=>{function t(o,m,x,f,d,_,u){try{var p=o[_](u),l=p.value}catch(v){return void x(v)}p.done?m(l):Promise.resolve(l).then(f,d)}function s(o){return function(){var m=this,x=arguments;return new Promise(function(f,d){var _=o.apply(m,x);function u(l){t(_,f,d,u,p,"next",l)}function p(l){t(_,f,d,u,p,"throw",l)}u(void 0)})}}c.d(h,{Z:()=>s})}}]);