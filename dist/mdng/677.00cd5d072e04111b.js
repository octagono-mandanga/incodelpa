"use strict";(self.webpackChunkmdng=self.webpackChunkmdng||[]).push([[677],{7677:(I,d,n)=>{n.r(d),n.d(d,{RootModule:()=>B});var l=n(6814),s=n(4887),o=n(9468);const g=function(t){return[t]};function f(t,r){if(1&t&&(o.TgZ(0,"a",20),o._uU(1),o.qZA()),2&t){const i=r.$implicit;o.Q6J("routerLink",o.VKq(2,g,"/root/"+i.link)),o.xp6(1),o.hij(" ",i.label," ")}}const h=function(t){return{"border-right":!0,"sidebar-contracted":t}},p=function(){return["/root/perfil"]},m=function(){return["/root/configuracion"]},v=function(){return["/logout"]};let C=(()=>{class t{constructor(){this.sidebarOpen=!0,this.opts=[{label:"Backup",link:"backup"},{label:"Periodos",link:"periodos"},{label:"Lectivos",link:"lectivos"},{label:"Usuarios",link:"usuarios"},{label:"Materias",link:"materias"},{label:"Areas",link:"areas"},{label:"Grados",link:"grados"},{label:"Niveles",link:"niveles"},{label:"Roles",link:"roles"},{label:"Institucion",link:"institucion"},{label:"Sedes",link:"sedes"}]}ngOnInit(){}toggleMenu(){this.sidebarOpen=!this.sidebarOpen}static#o=this.\u0275fac=function(e){return new(e||t)};static#t=this.\u0275cmp=o.Xpm({type:t,selectors:[["app-root"]],decls:30,vars:10,consts:[["id","wrap-root",1,"d-flex",2,"height","100vh"],["id","sidebar-wrapper",3,"ngClass"],[1,"sidebar-heading","fw-bold"],[1,"d-flex",2,"justify-content","center","min-height","100%"],["src","./assets/images/logoroot.svg"],[1,"list-group","list-group-flush"],["class","list-group-item list-group-item-action cursor","routerLinkActive","active",3,"routerLink",4,"ngFor","ngForOf"],[1,"flex-grow-1"],[1,"navbar","navbar-expand-lg","navbar-light","border-bottom"],["id","menu-toggle",1,"btn",3,"click"],[1,"fa-solid","fa-bars"],[1,"navbar-nav","flex-grow-1"],[1,"nav-item","dropdown","me-3"],["id","navbarDropdown","role","button","data-bs-toggle","dropdown","aria-expanded","false",1,"nav-link","dropdown-toggle","d-flex","align-items-center"],[1,"user-initials-circle","me-2"],[1,"dropdown-menu","dropdown-menu-end","mt-2"],["routerLinkActive","active",1,"dropdown-item",3,"routerLink"],[1,"dropdown-divider"],[1,"dropdown-item",3,"routerLink"],[1,"container-fluid","pt-3"],["routerLinkActive","active",1,"list-group-item","list-group-item-action","cursor",3,"routerLink"]],template:function(e,a){1&e&&(o.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"figure",3),o._UZ(4,"img",4),o.qZA()(),o.TgZ(5,"div",5),o.YNc(6,f,2,4,"a",6),o.qZA()(),o.TgZ(7,"div",7)(8,"nav",8)(9,"button",9),o.NdJ("click",function(){return a.toggleMenu()}),o._UZ(10,"i",10),o.qZA(),o._UZ(11,"div",11),o.TgZ(12,"div",12)(13,"a",13)(14,"div",14),o._uU(15,"GL"),o.qZA()(),o.TgZ(16,"ul",15)(17,"li")(18,"a",16),o._uU(19,"Perfil"),o.qZA()(),o.TgZ(20,"li")(21,"a",16),o._uU(22,"Configuraci\xf3n"),o.qZA()(),o.TgZ(23,"li"),o._UZ(24,"hr",17),o.qZA(),o.TgZ(25,"li")(26,"a",18),o._uU(27,"Salir"),o.qZA()()()()(),o.TgZ(28,"div",19),o._UZ(29,"router-outlet"),o.qZA()()()),2&e&&(o.xp6(1),o.Q6J("ngClass",o.VKq(5,h,!a.sidebarOpen)),o.xp6(5),o.Q6J("ngForOf",a.opts),o.xp6(12),o.Q6J("routerLink",o.DdM(7,p)),o.xp6(3),o.Q6J("routerLink",o.DdM(8,m)),o.xp6(5),o.Q6J("routerLink",o.DdM(9,v)))},dependencies:[l.mk,l.sg,s.lC,s.rH,s.Od],styles:["[_ngcontent-%COMP%]:root{--color-dark: #121212;--color-dark-lighter: #232323;--color-text: #ffffff;--color-accent: #4caf50;--color-links: #ffffff;--color-links-hover: #4caf50}#sidebar-wrapper[_ngcontent-%COMP%]{min-width:250px;max-width:250px;opacity:1;transition:all .2s ease;background:#121212;color:#fff}#menu-toggle[_ngcontent-%COMP%]{color:#fff}#wrap-root[_ngcontent-%COMP%]{background:#e0e0ea}.cursor[_ngcontent-%COMP%]{cursor:pointer}.sidebar-heading[_ngcontent-%COMP%]{height:53px;background:#101010;border:1px solid #232323}.sidebar-contracted[_ngcontent-%COMP%]{min-width:0!important;max-width:0!important;overflow:hidden!important;opacity:0}.navbar[_ngcontent-%COMP%]{background-color:#232323;color:#fff}.navbar[_ngcontent-%COMP%]   .navbar-nav[_ngcontent-%COMP%]   .nav-item[_ngcontent-%COMP%]   .user-initials-circle[_ngcontent-%COMP%]{background-color:#4caf50;color:#fff;width:30px;height:30px;display:flex;align-items:center;justify-content:center;font-weight:400;font-size:.9rem}.list-group-item[_ngcontent-%COMP%]{background-color:#121212;color:#fff;border:none}.list-group-item[_ngcontent-%COMP%]:hover{background-color:#4caf50}.active[_ngcontent-%COMP%]{background-color:#142c15}.dropdown-menu[_ngcontent-%COMP%]{background:#121212;color:#fff}.dropdown-menu[_ngcontent-%COMP%]   .dropdown-item[_ngcontent-%COMP%]{color:#fff}.dropdown-menu[_ngcontent-%COMP%]   .dropdown-item[_ngcontent-%COMP%]:hover{color:#fff;background-color:#4caf50}.dropdown-menu[_ngcontent-%COMP%]   .dropdown-divider[_ngcontent-%COMP%]{border-color:#232323}"]})}return t})();var b=n(932),x=n(6688);function M(t,r){if(1&t&&(o.TgZ(0,"div",10)(1,"small"),o._uU(2),o.qZA()()),2&t){const i=o.oxw();o.xp6(2),o.hij(" Recargando en ",i.countdown," segundos... ")}}function Z(t,r){1&t&&(o.TgZ(0,"div",11)(1,"div",12),o._UZ(2,"app-loading",13),o.TgZ(3,"h4",14),o._uU(4," Cargando... "),o.qZA()()())}function P(t,r){if(1&t&&(o.TgZ(0,"li",18)(1,"div",19)(2,"div",20),o._UZ(3,"i",21),o.qZA(),o.TgZ(4,"div",22)(5,"a",23),o._uU(6),o.ALo(7,"number"),o.qZA(),o.TgZ(8,"span",24),o._uU(9),o.ALo(10,"date"),o.qZA()()()()),2&t){const i=r.$implicit;o.xp6(5),o.s9C("href",i.url,o.LSH),o.s9C("download",i.name),o.xp6(1),o.AsE(" ",i.name," (",o.lcZ(7,5,i.size)," KB) "),o.xp6(3),o.hij(" Creado: ",o.xi3(10,7,i.last_modified,"medium")," ")}}function O(t,r){if(1&t&&(o.TgZ(0,"div",15)(1,"ul",16),o.YNc(2,P,11,10,"li",17),o.qZA()()),2&t){const i=o.oxw();o.xp6(2),o.Q6J("ngForOf",i.backups)}}let R=(()=>{class t{constructor(i){this.crudService=i,this.loading=!1,this.downloadfile="",this.backups=[],this.countdown=0}ngOnInit(){this.listar()}startBackup(){this.loading=!0,this.countdown=10,this.crudService.read("/root/backup").subscribe({next:i=>{this.loading=!1;const e=setInterval(()=>{this.countdown--,0===this.countdown&&(clearInterval(e),this.listar())},1e3)},error:i=>{console.error(i),this.loading=!1}})}listar(){this.loading=!0,this.crudService.read("/root/backup/listar").subscribe({next:i=>{this.backups=i.backups,this.loading=!1},error:i=>{this.loading=!1}})}static#o=this.\u0275fac=function(e){return new(e||t)(o.Y36(b.I))};static#t=this.\u0275cmp=o.Xpm({type:t,selectors:[["app-root-backup"]],decls:12,vars:5,consts:[["aria-label","breadcrumb"],[1,"breadcrumb"],["aria-current","page",1,"breadcrumb-item","active"],["class","mb-1",4,"ngIf"],[1,"card"],[1,"card-body"],["class","container mt-3",4,"ngIf"],["class","backups-container",4,"ngIf"],[1,"d-grid","gap-2"],[1,"btn","btn-success",3,"disabled","click"],[1,"mb-1"],[1,"container","mt-3"],[1,"d-flex","justify-content-center"],["size","20px"],[1,"ms-2","text-secondary"],[1,"backups-container"],[1,"backups-list"],["class","backup-item",4,"ngFor","ngForOf"],[1,"backup-item"],[1,"d-flex"],[1,"flex-shrink-0"],[1,"fa-solid","fa-download","fa-2x"],[1,"flex-grow-1","ms-3"],[1,"backup-link","mb-0","lh-1",3,"href","download"],[1,"backup-info","lh-1"]],template:function(e,a){1&e&&(o.TgZ(0,"nav",0)(1,"ol",1)(2,"li",2),o._uU(3,"Backups"),o.qZA()()(),o.YNc(4,M,3,1,"div",3),o.TgZ(5,"div",4)(6,"div",5),o.YNc(7,Z,5,0,"div",6),o.YNc(8,O,3,1,"div",7),o.TgZ(9,"div",8)(10,"button",9),o.NdJ("click",function(){return a.startBackup()}),o._uU(11),o.qZA()()()()),2&e&&(o.xp6(4),o.Q6J("ngIf",a.countdown>0),o.xp6(3),o.Q6J("ngIf",a.loading),o.xp6(1),o.Q6J("ngIf",!a.loading),o.xp6(2),o.Q6J("disabled",a.loading),o.xp6(1),o.hij(" ",a.loading?"Procesando...":"Iniciar Copia"," "))},dependencies:[l.sg,l.O5,x.N,l.JJ,l.uU],styles:[".backup-container[_ngcontent-%COMP%]{text-align:center;margin-top:20px}.loading[_ngcontent-%COMP%]{color:#888;text-align:center;padding:20px}.backups-list[_ngcontent-%COMP%]{list-style-type:none;padding:0}.backup-item[_ngcontent-%COMP%]{background-color:#f9f9f9;border:1px solid #ddd;margin-bottom:10px;padding:10px;border-radius:5px}.backup-link[_ngcontent-%COMP%]{color:#007bff;text-decoration:none;font-size:1rem;font-weight:700}.backup-link[_ngcontent-%COMP%]:hover{text-decoration:underline}.backup-info[_ngcontent-%COMP%]{display:block;color:#666;font-size:.8rem}"]})}return t})();var k=n(7398),A=n(6306),T=n(2096),y=n(9692);const U=[{path:"",component:C,children:[{path:"",redirectTo:"backup",pathMatch:"full"},{path:"backup",component:R},{path:"perfil",loadChildren:()=>n.e(370).then(n.bind(n,4370)).then(t=>t.RootPerfilModule)},{path:"configuracion",loadChildren:()=>n.e(695).then(n.bind(n,695)).then(t=>t.RootConfiguracionModule)},{path:"roles",loadChildren:()=>Promise.all([n.e(305),n.e(556)]).then(n.bind(n,1556)).then(t=>t.RootRolesModule)},{path:"lectivos",loadChildren:()=>Promise.all([n.e(305),n.e(109)]).then(n.bind(n,5790)).then(t=>t.RootLectivosModule)},{path:"periodos",loadChildren:()=>Promise.all([n.e(305),n.e(592),n.e(664)]).then(n.bind(n,434)).then(t=>t.RootPeriodosModule)},{path:"usuarios",loadChildren:()=>Promise.all([n.e(592),n.e(400)]).then(n.bind(n,400)).then(t=>t.RootUsuariosModule)},{path:"materias",loadChildren:()=>Promise.all([n.e(305),n.e(592),n.e(491)]).then(n.bind(n,2491)).then(t=>t.RootMateriasModule)},{path:"areas",loadChildren:()=>Promise.all([n.e(305),n.e(232)]).then(n.bind(n,3232)).then(t=>t.RootAreasModule)},{path:"grados",loadChildren:()=>Promise.all([n.e(305),n.e(505)]).then(n.bind(n,2505)).then(t=>t.RootGradosModule)},{path:"niveles",loadChildren:()=>Promise.all([n.e(305),n.e(216)]).then(n.bind(n,1216)).then(t=>t.RootNivelesModule)},{path:"institucion",loadChildren:()=>n.e(331).then(n.bind(n,3331)).then(t=>t.RootInstitucionModule)},{path:"sedes",loadChildren:()=>Promise.all([n.e(305),n.e(676)]).then(n.bind(n,7676)).then(t=>t.RootSedesModule)}],canActivate:[(()=>{class t{constructor(i,e){this.authService=i,this.route=e,this.canActivate=(a,u)=>this.authService.checkingRole("root").pipe((0,k.U)(F=>F.hasRole),(0,A.K)(()=>(this.route.navigate(["/logout"]),(0,T.of)(!1))))}static#o=this.\u0275fac=function(e){return new(e||t)(o.LFG(y.e),o.LFG(s.F0))};static#t=this.\u0275prov=o.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})()]}];let L=(()=>{class t{static#o=this.\u0275fac=function(e){return new(e||t)};static#t=this.\u0275mod=o.oAB({type:t});static#n=this.\u0275inj=o.cJS({imports:[s.Bz.forChild(U),s.Bz]})}return t})();var c=n(95),J=n(6208);let B=(()=>{class t{static#o=this.\u0275fac=function(e){return new(e||t)};static#t=this.\u0275mod=o.oAB({type:t});static#n=this.\u0275inj=o.cJS({imports:[l.ez,L,c.UX,c.u5,J.m]})}return t})()}}]);