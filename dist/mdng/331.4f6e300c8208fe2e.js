"use strict";(self.webpackChunkmdng=self.webpackChunkmdng||[]).push([[331],{3331:(F,x,l)=>{l.r(x),l.d(x,{RootInstitucionModule:()=>a});var t=l(6814),s=l(6985),e=l(9468),m=l(932),y=l(5861);function f(i,n){if(1&i&&(e.TgZ(0,"div",8)(1,"strong"),e._uU(2),e.qZA(),e._uU(3),e.qZA()),2&i){const o=n.$implicit,r=e.oxw(3);e.xp6(2),e.hij("",o.displayName,":"),e.xp6(1),e.hij(" ",r.entityData[o.key]," ")}}const _=function(i,n){return[i,n]};function g(i,n){if(1&i&&(e.TgZ(0,"a",9),e._uU(1,"Editar"),e.qZA()),2&i){const o=e.oxw(3);e.Q6J("routerLink",e.WLB(1,_,o.config.actions.edit,o.entityData.id))}}function p(i,n){if(1&i&&(e.ynx(0),e.YNc(1,f,4,2,"div",6),e.YNc(2,g,2,4,"a",7),e.BQk()),2&i){const o=e.oxw(2);e.xp6(1),e.Q6J("ngForOf",o.config.columns),e.xp6(1),e.Q6J("ngIf",o.config.actions.edit)}}function d(i,n){if(1&i&&(e.TgZ(0,"div",2)(1,"div",3)(2,"h5",4),e._uU(3,"Detalles"),e.qZA(),e.YNc(4,p,3,2,"ng-container",5),e.qZA()()),2&i){const o=e.oxw();e.xp6(4),e.Q6J("ngIf",o.entityData)}}const u=function(i){return[i,1]};function v(i,n){if(1&i&&(e.TgZ(0,"p"),e._uU(1,"No hay datos disponibles."),e.qZA(),e.TgZ(2,"a",10),e._uU(3,"Crear"),e.qZA()),2&i){const o=e.oxw();e.xp6(2),e.Q6J("routerLink",e.VKq(1,u,o.config.actions.edit))}}let b=(()=>{class i{constructor(o){this.crudService=o}ngOnInit(){return(0,y.Z)(function*(){})()}loadEntityData(){}static#t=this.\u0275fac=function(r){return new(r||i)(e.Y36(m.I))};static#e=this.\u0275cmp=e.Xpm({type:i,selectors:[["app-entity-display"]],inputs:{config:"config",entityData:"entityData"},decls:3,vars:1,consts:[["class","card p-3",4,"ngIf"],["noDataTemplate",""],[1,"card","p-3"],[1,"card-body"],[1,"card-title"],[4,"ngIf"],["class","mb-2",4,"ngFor","ngForOf"],["class","btn btn-success",3,"routerLink",4,"ngIf"],[1,"mb-2"],[1,"btn","btn-success",3,"routerLink"],[1,"btn","btn-primary",3,"routerLink"]],template:function(r,c){1&r&&(e.YNc(0,d,5,1,"div",0),e.YNc(1,v,4,3,"ng-template",null,1,e.W1O)),2&r&&e.Q6J("ngIf",c.entityData)},dependencies:[t.sg,t.O5,s.rH],styles:[".card-body[_ngcontent-%COMP%]{background-color:#f8f9fa;border-radius:.25rem}.mb-2[_ngcontent-%COMP%]{margin-bottom:1rem!important}.card-title[_ngcontent-%COMP%]{color:#4a5568;margin-bottom:1.5rem}.btn-success[_ngcontent-%COMP%], .btn-primary[_ngcontent-%COMP%]{margin-top:1rem}"]})}return i})();var C=l(6688);function T(i,n){1&i&&(e.TgZ(0,"div",5),e._UZ(1,"app-loading",6),e.qZA())}let I=(()=>{class i{constructor(o){this.crudService=o,this.loading=!1,this.config={columns:[{key:"tipo",displayName:"Tipo"},{key:"nombre",displayName:"Nombre"},{key:"direccion",displayName:"Direccion"},{key:"telefono",displayName:"Telefono"},{key:"email",displayName:"Email"},{key:"dane",displayName:"Dane"},{key:"url",displayName:"URL"}],actions:{edit:"/root/institucion/form"}}}ngOnInit(){this.loading=!0,this.crudService.read("/root/institucion/",{}).subscribe({next:o=>{this.data=o.data,this.loading=!1},error:o=>{console.error("Error al obtener los roles del usuario",o)}})}static#t=this.\u0275fac=function(r){return new(r||i)(e.Y36(m.I))};static#e=this.\u0275cmp=e.Xpm({type:i,selectors:[["app-root-institucion"]],decls:6,vars:3,consts:[["aria-label","breadcrumb"],[1,"breadcrumb"],["aria-current","page",1,"breadcrumb-item","active"],["class","d-flex justify-content-center py5- my-5",4,"ngIf"],[3,"config","entityData"],[1,"d-flex","justify-content-center","py5-","my-5"],["size","100px"]],template:function(r,c){1&r&&(e.TgZ(0,"nav",0)(1,"ol",1)(2,"li",2),e._uU(3,"Institucion"),e.qZA()()(),e.YNc(4,T,2,0,"div",3),e._UZ(5,"app-entity-display",4)),2&r&&(e.xp6(4),e.Q6J("ngIf",c.loading),e.xp6(1),e.Q6J("config",c.config)("entityData",c.data))},dependencies:[t.O5,b,C.N]})}return i})();var N=l(4013);const Z=[{path:"",component:I},{path:"form/:id",component:(()=>{class i{constructor(o,r){this.route=o,this.crudService=r,this.success=!0,this.loading=!1}ngOnInit(){this.config={columns:[{key:"tipo",displayName:"Tipo",required:!0,type:"text"},{key:"nombre",displayName:"Nombre",required:!0,type:"text"},{key:"direccion",displayName:"Direccion",required:!0,type:"text"},{key:"telefono",displayName:"Telefono",type:"text"},{key:"email",displayName:"Email",required:!0,type:"email"},{key:"dane",displayName:"Dane",type:"text"},{key:"url",displayName:"URL",type:"text"}],actions:{}},this.loading=!0,this.id=this.route.snapshot.params.id,this.crudService.read("/root/institucion").subscribe({next:o=>{this.data=o.data,this.loading=!1},error:o=>{this.message="Error al obtener los datos "+o,this.success=!1}})}onActualizar(o){this.loading=!0,this.crudService.update(o,"/root/institucion/"+this.id).subscribe({next:r=>{this.data=r.data,this.message=r.message,this.success=!0,this.loading=!1},error:r=>{this.loading=!1,this.message="Error al actualizar "+r,this.success=!1}}),setTimeout(()=>{this.message=""},5e3)}static#t=this.\u0275fac=function(r){return new(r||i)(e.Y36(s.gz),e.Y36(m.I))};static#e=this.\u0275cmp=e.Xpm({type:i,selectors:[["app-root-institucion-form"]],decls:8,vars:5,consts:[["aria-label","breadcrumb"],[1,"breadcrumb"],[1,"breadcrumb-item"],["routerLink","/root/institucion"],["aria-current","page",1,"breadcrumb-item","active"],[3,"loading","message","success","config","entityData","event"]],template:function(r,c){1&r&&(e.TgZ(0,"nav",0)(1,"ol",1)(2,"li",2)(3,"a",3),e._uU(4,"Institucion"),e.qZA()(),e.TgZ(5,"li",4),e._uU(6,"Editar"),e.qZA()()(),e.TgZ(7,"app-formulario",5),e.NdJ("event",function(Q){return c.onActualizar(Q)}),e.qZA()),2&r&&(e.xp6(7),e.Q6J("loading",c.loading)("message",c.message)("success",c.success)("config",c.config)("entityData",c.data))},dependencies:[s.rH,N.o]})}return i})()}];let D=(()=>{class i{static#t=this.\u0275fac=function(r){return new(r||i)};static#e=this.\u0275mod=e.oAB({type:i});static#n=this.\u0275inj=e.cJS({imports:[s.Bz.forChild(Z),s.Bz]})}return i})();var J=l(6208);let a=(()=>{class i{static#t=this.\u0275fac=function(r){return new(r||i)};static#e=this.\u0275mod=e.oAB({type:i});static#n=this.\u0275inj=e.cJS({imports:[t.ez,D,J.m]})}return i})()},4013:(F,x,l)=>{l.d(x,{o:()=>J});var t=l(9468),s=l(95),e=l(6814),m=l(6688);const y=function(a,i){return{"alert-success":a,"alert-danger":i}};function f(a,i){if(1&a&&(t.TgZ(0,"div",4),t._uU(1),t.qZA()),2&a){const n=t.oxw();t.Q6J("ngClass",t.WLB(2,y,n.success,!n.success)),t.xp6(1),t.hij(" ",n.message,"\n")}}function _(a,i){1&a&&(t.TgZ(0,"div",5),t._UZ(1,"app-loading",6),t.TgZ(2,"h4",7),t._uU(3," Cargando... "),t.qZA()())}function g(a,i){1&a&&(t.TgZ(0,"span"),t._uU(1,"*"),t.qZA())}function p(a,i){if(1&a&&(t.TgZ(0,"label",20),t.YNc(1,g,2,0,"span",21),t._uU(2),t.qZA()),2&a){const n=t.oxw().$implicit;t.xp6(1),t.Q6J("ngIf",n.required),t.xp6(1),t.hij(" ",n.displayName," ")}}function d(a,i){if(1&a&&t._UZ(0,"input",22),2&a){const n=t.oxw().$implicit;let o;t.Q6J("name",n.key)("value",n.value)("required",null!==(o=n.required)&&void 0!==o&&o)}}function u(a,i){if(1&a&&t._UZ(0,"input",23),2&a){const n=t.oxw().$implicit;let o;t.s9C("type",n.type),t.Q6J("formControlName",n.key)("required",null!==(o=n.required)&&void 0!==o&&o)}}function v(a,i){if(1&a&&t._UZ(0,"input",24),2&a){const n=t.oxw().$implicit;let o;t.Q6J("formControlName",n.key)("required",null!==(o=n.required)&&void 0!==o&&o)}}function b(a,i){if(1&a&&t._UZ(0,"input",25),2&a){const n=t.oxw().$implicit;let o;t.Q6J("formControlName",n.key)("required",null!==(o=n.required)&&void 0!==o&&o)}}function C(a,i){if(1&a&&(t.TgZ(0,"option",28),t._uU(1),t.qZA()),2&a){const n=i.$implicit;t.Q6J("value",n.value),t.xp6(1),t.Oqu(n.displayValue)}}function T(a,i){if(1&a){const n=t.EpF();t.TgZ(0,"select",26),t.NdJ("change",function(r){t.CHM(n);const c=t.oxw().$implicit,h=t.oxw(2);return t.KtG(h.onSelectChange(r,c.key))}),t.YNc(1,C,2,2,"option",27),t.qZA()}if(2&a){const n=t.oxw().$implicit;t.Q6J("formControlName",n.key),t.xp6(1),t.Q6J("ngForOf",n.options)}}function I(a,i){if(1&a&&(t.TgZ(0,"div",29),t._uU(1),t.qZA()),2&a){const n=t.oxw().$implicit;t.xp6(1),t.hij(" ",n.displayName," es requerido. ")}}function N(a,i){if(1&a&&(t.TgZ(0,"div",12),t.YNc(1,p,3,2,"label",13),t.YNc(2,d,1,3,"input",14),t.YNc(3,u,1,3,"input",15),t.YNc(4,v,1,2,"input",16),t.YNc(5,b,1,2,"input",17),t.YNc(6,T,2,2,"select",18),t.YNc(7,I,2,1,"div",19),t.qZA()),2&a){const n=i.$implicit,o=t.oxw(2);let r;t.xp6(1),t.Q6J("ngIf",n.displayName),t.xp6(1),t.Q6J("ngIf","hidden"===n.type),t.xp6(1),t.Q6J("ngIf","text"===n.type||"email"===n.type),t.xp6(1),t.Q6J("ngIf","number"===n.type),t.xp6(1),t.Q6J("ngIf","date"===n.type),t.xp6(1),t.Q6J("ngIf","select"===n.type),t.xp6(1),t.Q6J("ngIf",(null==(r=o.form.get(n.key))?null:r.invalid)&&(null==(r=o.form.get(n.key))?null:r.touched))}}function q(a,i){if(1&a&&(t.TgZ(0,"button",30),t._uU(1,"Actualizar"),t.qZA()),2&a){const n=t.oxw(2);t.Q6J("disabled",n.form.invalid)}}function Z(a,i){if(1&a&&(t.TgZ(0,"button",31),t._uU(1,"Procesar"),t.qZA()),2&a){const n=t.oxw(2);t.Q6J("disabled",n.form.invalid)}}function D(a,i){if(1&a){const n=t.EpF();t.TgZ(0,"form",8),t.NdJ("ngSubmit",function(){t.CHM(n);const r=t.oxw();return t.KtG(r.onSubmit())}),t.YNc(1,N,8,7,"div",9),t.YNc(2,q,2,1,"button",10),t.YNc(3,Z,2,1,"button",11),t.qZA()}if(2&a){const n=t.oxw();t.Q6J("formGroup",n.form),t.xp6(1),t.Q6J("ngForOf",n.config.columns),t.xp6(1),t.Q6J("ngIf",n.entityData),t.xp6(1),t.Q6J("ngIf",!n.entityData)}}let J=(()=>{class a{constructor(n){this.fb=n,this.event=new t.vpe,this.success=!0,this.loading=!1}ngOnInit(){this.form=this.createGroup()}ngOnChanges(n){n.entityData&&n.entityData.previousValue!==n.entityData.currentValue&&(this.form=this.createGroup())}createGroup(){const n=this.fb.group({});return this.config&&this.config.columns&&this.config.columns.forEach(o=>{const r=this.entityData?this.entityData[o.key]:"";let c=o.required?[s.kI.required]:[];"email"===o.type&&c.push(s.kI.email);let h=this.fb.control(r,c);"date"===o.type&&h.setValue(r?new Date(r).toISOString().substring(0,10):""),n.addControl(o.key,h)}),n}onSubmit(){this.form.valid&&this.event.emit(this.form.value)}onSelectChange(n,o){const c=n.target.value;c&&this.config.columns.find(h=>h.key===o)?.changevalue&&this.event.emit({data:c})}static#t=this.\u0275fac=function(o){return new(o||a)(t.Y36(s.qu))};static#e=this.\u0275cmp=t.Xpm({type:a,selectors:[["app-formulario"]],inputs:{config:"config",entityData:"entityData",message:"message",success:"success",loading:"loading"},outputs:{event:"event"},features:[t.TTD],decls:4,vars:3,consts:[["class","alert","role","alert",3,"ngClass",4,"ngIf"],[1,"container","p-4"],["class","d-flex  justify-content-center",4,"ngIf"],[3,"formGroup","ngSubmit",4,"ngIf"],["role","alert",1,"alert",3,"ngClass"],[1,"d-flex","justify-content-center"],["size","20px"],[1,"ms-2","text-secondary"],[3,"formGroup","ngSubmit"],["class","form-group mb-2",4,"ngFor","ngForOf"],["type","submit","class","btn btn-success mt-2",3,"disabled",4,"ngIf"],["type","submit","class","btn btn-primary mt-2",3,"disabled",4,"ngIf"],[1,"form-group","mb-2"],["class","text-secondary",4,"ngIf"],["type","hidden",3,"name","value","required",4,"ngIf"],["class","form-control",3,"type","formControlName","required",4,"ngIf"],["type","number","class","form-control","step","any",3,"formControlName","required",4,"ngIf"],["type","date","class","form-control",3,"formControlName","required",4,"ngIf"],["class","form-select",3,"formControlName","change",4,"ngIf"],["class","text-danger",4,"ngIf"],[1,"text-secondary"],[4,"ngIf"],["type","hidden",3,"name","value","required"],[1,"form-control",3,"type","formControlName","required"],["type","number","step","any",1,"form-control",3,"formControlName","required"],["type","date",1,"form-control",3,"formControlName","required"],[1,"form-select",3,"formControlName","change"],[3,"value",4,"ngFor","ngForOf"],[3,"value"],[1,"text-danger"],["type","submit",1,"btn","btn-success","mt-2",3,"disabled"],["type","submit",1,"btn","btn-primary","mt-2",3,"disabled"]],template:function(o,r){1&o&&(t.YNc(0,f,2,5,"div",0),t.TgZ(1,"div",1),t.YNc(2,_,4,0,"div",2),t.YNc(3,D,4,4,"form",3),t.qZA()),2&o&&(t.Q6J("ngIf",r.message),t.xp6(2),t.Q6J("ngIf",r.loading),t.xp6(1),t.Q6J("ngIf",r.form&&!r.loading))},dependencies:[e.mk,e.sg,e.O5,s._Y,s.YN,s.Kr,s.Fj,s.wV,s.EJ,s.JJ,s.JL,s.Q7,s.sg,s.u,m.N],styles:[".container[_ngcontent-%COMP%]{background-color:#fff;padding:2rem;border-radius:.5rem;box-shadow:0 .5rem 1rem #0000001a}.alert[_ngcontent-%COMP%]{position:fixed;top:20px;right:20px;z-index:1050;border-radius:4px;animation:_ngcontent-%COMP%_fadeAlert .5s}@keyframes _ngcontent-%COMP%_fadeAlert{0%{opacity:0;transform:translate(100%)}to{opacity:1;transform:translate(0)}}"]})}return a})()},5861:(F,x,l)=>{function t(e,m,y,f,_,g,p){try{var d=e[g](p),u=d.value}catch(v){return void y(v)}d.done?m(u):Promise.resolve(u).then(f,_)}function s(e){return function(){var m=this,y=arguments;return new Promise(function(f,_){var g=e.apply(m,y);function p(u){t(g,f,_,p,d,"next",u)}function d(u){t(g,f,_,p,d,"throw",u)}p(void 0)})}}l.d(x,{Z:()=>s})}}]);