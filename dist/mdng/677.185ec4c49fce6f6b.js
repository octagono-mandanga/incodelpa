"use strict";(self.webpackChunkmdng=self.webpackChunkmdng||[]).push([[677],{7e3:(F,C,u)=>{u.r(C),u.d(C,{RootInstitucionModule:()=>Z});var t=u(6814),s=u(4887),n=u(9468),_=u(932),v=u(8788),g=u(6688);function y(r,q){1&r&&(n.TgZ(0,"div",5),n._UZ(1,"app-loading",6),n.qZA())}let h=(()=>{class r{constructor(c){this.crudService=c,this.loading=!1,this.config={columns:[{key:"tipo",displayName:"Tipo"},{key:"nombre",displayName:"Nombre"},{key:"direccion",displayName:"Direccion"},{key:"telefono",displayName:"Telefono"},{key:"email",displayName:"Email"},{key:"dane",displayName:"Dane"},{key:"url",displayName:"URL"}],actions:{edit:"/root/institucion/form"}}}ngOnInit(){this.loading=!0,this.crudService.read("/root/institucion/",{}).subscribe({next:c=>{this.data=c.data,this.loading=!1},error:c=>{console.error("Error al obtener los roles del usuario",c)}})}static#t=this.\u0275fac=function(a){return new(a||r)(n.Y36(_.I))};static#e=this.\u0275cmp=n.Xpm({type:r,selectors:[["app-root-institucion"]],decls:6,vars:3,consts:[["aria-label","breadcrumb"],[1,"breadcrumb"],["aria-current","page",1,"breadcrumb-item","active"],["class","d-flex justify-content-center py5- my-5",4,"ngIf"],[3,"config","entityData"],[1,"d-flex","justify-content-center","py5-","my-5"],["size","100px"]],template:function(a,p){1&a&&(n.TgZ(0,"nav",0)(1,"ol",1)(2,"li",2),n._uU(3,"Institucion"),n.qZA()()(),n.YNc(4,y,2,0,"div",3),n._UZ(5,"app-entity-display",4)),2&a&&(n.xp6(4),n.Q6J("ngIf",p.loading),n.xp6(1),n.Q6J("config",p.config)("entityData",p.data))},dependencies:[t.O5,v.D,g.N]})}return r})();var d=u(4013);const f=[{path:"",component:h},{path:"form/:id",component:(()=>{class r{constructor(c,a){this.route=c,this.crudService=a,this.success=!0,this.loading=!1}ngOnInit(){this.config={columns:[{key:"tipo",displayName:"Tipo",required:!0,type:"text"},{key:"nombre",displayName:"Nombre",required:!0,type:"text"},{key:"direccion",displayName:"Direccion",required:!0,type:"text"},{key:"telefono",displayName:"Telefono",type:"text"},{key:"email",displayName:"Email",required:!0,type:"email"},{key:"dane",displayName:"Dane",type:"text"},{key:"url",displayName:"URL",type:"text"}],actions:{}},this.loading=!0,this.id=this.route.snapshot.params.id,this.crudService.read("/root/institucion").subscribe({next:c=>{this.data=c.data,this.loading=!1},error:c=>{this.message="Error al obtener los datos "+c,this.success=!1}})}onActualizar(c){this.loading=!0,this.crudService.update(c,"/root/institucion/"+this.id).subscribe({next:a=>{this.data=a.data,this.message=a.message,this.success=!0,this.loading=!1},error:a=>{this.loading=!1,this.message="Error al actualizar "+a,this.success=!1}}),setTimeout(()=>{this.message=""},5e3)}static#t=this.\u0275fac=function(a){return new(a||r)(n.Y36(s.gz),n.Y36(_.I))};static#e=this.\u0275cmp=n.Xpm({type:r,selectors:[["app-root-institucion-form"]],decls:8,vars:5,consts:[["aria-label","breadcrumb"],[1,"breadcrumb"],[1,"breadcrumb-item"],["routerLink","/root/institucion"],["aria-current","page",1,"breadcrumb-item","active"],[3,"loading","message","success","config","entityData","event"]],template:function(a,p){1&a&&(n.TgZ(0,"nav",0)(1,"ol",1)(2,"li",2)(3,"a",3),n._uU(4,"Institucion"),n.qZA()(),n.TgZ(5,"li",4),n._uU(6,"Editar"),n.qZA()()(),n.TgZ(7,"app-formulario",5),n.NdJ("event",function(J){return p.onActualizar(J)}),n.qZA()),2&a&&(n.xp6(7),n.Q6J("loading",p.loading)("message",p.message)("success",p.success)("config",p.config)("entityData",p.data))},dependencies:[s.rH,d.o]})}return r})()}];let I=(()=>{class r{static#t=this.\u0275fac=function(a){return new(a||r)};static#e=this.\u0275mod=n.oAB({type:r});static#o=this.\u0275inj=n.cJS({imports:[s.Bz.forChild(f),s.Bz]})}return r})();var T=u(6208);let Z=(()=>{class r{static#t=this.\u0275fac=function(a){return new(a||r)};static#e=this.\u0275mod=n.oAB({type:r});static#o=this.\u0275inj=n.cJS({imports:[t.ez,I,T.m]})}return r})()},4013:(F,C,u)=>{u.d(C,{o:()=>A});var t=u(9468),s=u(6223),n=u(6814),_=u(6688);const v=function(o,m){return{"alert-success":o,"alert-danger":m}};function g(o,m){if(1&o&&(t.TgZ(0,"div",4),t._uU(1),t.qZA()),2&o){const e=t.oxw();t.Q6J("ngClass",t.WLB(2,v,e.success,!e.success)),t.xp6(1),t.hij(" ",e.message,"\n")}}function y(o,m){if(1&o&&(t.TgZ(0,"div",5),t._UZ(1,"app-loading",6),t.TgZ(2,"h4",7),t._uU(3),t.qZA()()),2&o){const e=t.oxw();t.xp6(3),t.hij(" Cargando ",e.msg,"... ")}}function h(o,m){1&o&&(t.TgZ(0,"span"),t._uU(1,"*"),t.qZA())}function d(o,m){if(1&o&&(t.TgZ(0,"label",21),t.YNc(1,h,2,0,"span",22),t._uU(2),t.qZA()),2&o){const e=t.oxw().$implicit;t.xp6(1),t.Q6J("ngIf",e.required),t.xp6(1),t.hij(" ",e.displayName," ")}}function x(o,m){if(1&o&&t._UZ(0,"input",23),2&o){const e=t.oxw().$implicit;let i;t.Q6J("name",e.key)("value",e.value)("required",null!==(i=e.required)&&void 0!==i&&i)}}function f(o,m){if(1&o&&t._UZ(0,"input",24),2&o){const e=t.oxw().$implicit;let i;t.s9C("type",e.type),t.Q6J("formControlName",e.key)("required",null!==(i=e.required)&&void 0!==i&&i)}}function I(o,m){if(1&o&&t._UZ(0,"input",25),2&o){const e=t.oxw().$implicit;let i;t.Q6J("formControlName",e.key)("required",null!==(i=e.required)&&void 0!==i&&i)}}function T(o,m){if(1&o&&t._UZ(0,"textarea",26),2&o){const e=t.oxw().$implicit;let i;t.Q6J("formControlName",e.key)("required",null!==(i=e.required)&&void 0!==i&&i)}}function Z(o,m){if(1&o&&t._UZ(0,"input",27),2&o){const e=t.oxw().$implicit;let i;t.Q6J("formControlName",e.key)("required",null!==(i=e.required)&&void 0!==i&&i)}}function r(o,m){if(1&o&&(t.TgZ(0,"option",30),t._uU(1),t.qZA()),2&o){const e=m.$implicit;t.Q6J("value",e.value),t.xp6(1),t.Oqu(e.displayValue)}}function q(o,m){if(1&o){const e=t.EpF();t.TgZ(0,"select",28),t.NdJ("change",function(l){t.CHM(e);const b=t.oxw().$implicit,N=t.oxw(2);return t.KtG(N.onSelectChange(l,b.key))}),t.YNc(1,r,2,2,"option",29),t.qZA()}if(2&o){const e=t.oxw().$implicit;t.Q6J("formControlName",e.key),t.xp6(1),t.Q6J("ngForOf",e.options)}}function c(o,m){if(1&o&&(t.TgZ(0,"div",31),t._uU(1),t.qZA()),2&o){const e=t.oxw().$implicit;t.xp6(1),t.hij(" ",e.displayName," es requerido. ")}}function a(o,m){if(1&o&&(t.TgZ(0,"div",12),t.YNc(1,d,3,2,"label",13),t.YNc(2,x,1,3,"input",14),t.YNc(3,f,1,3,"input",15),t.YNc(4,I,1,2,"input",16),t.YNc(5,T,1,2,"textarea",17),t.YNc(6,Z,1,2,"input",18),t.YNc(7,q,2,2,"select",19),t.YNc(8,c,2,1,"div",20),t.qZA()),2&o){const e=m.$implicit,i=t.oxw(2);let l;t.xp6(1),t.Q6J("ngIf",e.displayName),t.xp6(1),t.Q6J("ngIf","hidden"===e.type),t.xp6(1),t.Q6J("ngIf","text"===e.type||"email"===e.type),t.xp6(1),t.Q6J("ngIf","number"===e.type),t.xp6(1),t.Q6J("ngIf","textarea"===e.type),t.xp6(1),t.Q6J("ngIf","date"===e.type),t.xp6(1),t.Q6J("ngIf","select"===e.type),t.xp6(1),t.Q6J("ngIf",(null==(l=i.form.get(e.key))?null:l.invalid)&&(null==(l=i.form.get(e.key))?null:l.touched))}}function p(o,m){if(1&o&&(t.TgZ(0,"button",32),t._uU(1,"Actualizar"),t.qZA()),2&o){const e=t.oxw(2);t.Q6J("disabled",e.form.invalid)}}function Q(o,m){if(1&o&&(t.TgZ(0,"button",33),t._uU(1,"Procesar"),t.qZA()),2&o){const e=t.oxw(2);t.Q6J("disabled",e.form.invalid)}}function J(o,m){if(1&o){const e=t.EpF();t.TgZ(0,"form",8),t.NdJ("ngSubmit",function(){t.CHM(e);const l=t.oxw();return t.KtG(l.onSubmit())}),t.YNc(1,a,9,8,"div",9),t.YNc(2,p,2,1,"button",10),t.YNc(3,Q,2,1,"button",11),t.qZA()}if(2&o){const e=t.oxw();t.Q6J("formGroup",e.form),t.xp6(1),t.Q6J("ngForOf",e.config.columns),t.xp6(1),t.Q6J("ngIf",e.entityData),t.xp6(1),t.Q6J("ngIf",!e.entityData)}}let A=(()=>{class o{constructor(e){this.fb=e,this.event=new t.vpe,this.success=!0,this.loading=!1}ngOnInit(){this.form=this.createGroup()}ngOnChanges(e){e.entityData&&e.entityData.previousValue!==e.entityData.currentValue&&(this.form=this.createGroup())}createGroup(){const e=this.fb.group({});return this.config&&this.config.columns&&this.config.columns.forEach(i=>{const l=this.entityData?this.entityData[i.key]:"";let b=i.required?[s.kI.required]:[];"email"===i.type&&b.push(s.kI.email);let N=this.fb.control(l,b);"date"===i.type&&N.setValue(l?new Date(l).toISOString().substring(0,10):""),e.addControl(i.key,N)}),e}onSubmit(){this.form.valid&&this.event.emit(this.form.value)}onSelectChange(e,i){const b=e.target.value;b&&this.config.columns.find(N=>N.key===i)?.changevalue&&this.event.emit({data:b})}static#t=this.\u0275fac=function(i){return new(i||o)(t.Y36(s.qu))};static#e=this.\u0275cmp=t.Xpm({type:o,selectors:[["app-formulario"]],inputs:{config:"config",entityData:"entityData",message:"message",msg:"msg",success:"success",loading:"loading"},outputs:{event:"event"},features:[t.TTD],decls:4,vars:3,consts:[["class","alert","role","alert",3,"ngClass",4,"ngIf"],[1,"container","p-4"],["class","d-flex  justify-content-center",4,"ngIf"],[3,"formGroup","ngSubmit",4,"ngIf"],["role","alert",1,"alert",3,"ngClass"],[1,"d-flex","justify-content-center"],["size","20px"],[1,"ms-2","text-secondary"],[3,"formGroup","ngSubmit"],["class","form-group mb-2",4,"ngFor","ngForOf"],["type","submit","class","btn btn-success mt-2",3,"disabled",4,"ngIf"],["type","submit","class","btn btn-primary mt-2",3,"disabled",4,"ngIf"],[1,"form-group","mb-2"],["class","text-secondary",4,"ngIf"],["type","hidden",3,"name","value","required",4,"ngIf"],["class","form-control",3,"type","formControlName","required",4,"ngIf"],["type","number","class","form-control","step","any",3,"formControlName","required",4,"ngIf"],["class","form-control","rows","3",3,"formControlName","required",4,"ngIf"],["type","date","class","form-control",3,"formControlName","required",4,"ngIf"],["class","form-select",3,"formControlName","change",4,"ngIf"],["class","text-danger",4,"ngIf"],[1,"text-secondary"],[4,"ngIf"],["type","hidden",3,"name","value","required"],[1,"form-control",3,"type","formControlName","required"],["type","number","step","any",1,"form-control",3,"formControlName","required"],["rows","3",1,"form-control",3,"formControlName","required"],["type","date",1,"form-control",3,"formControlName","required"],[1,"form-select",3,"formControlName","change"],[3,"value",4,"ngFor","ngForOf"],[3,"value"],[1,"text-danger"],["type","submit",1,"btn","btn-success","mt-2",3,"disabled"],["type","submit",1,"btn","btn-primary","mt-2",3,"disabled"]],template:function(i,l){1&i&&(t.YNc(0,g,2,5,"div",0),t.TgZ(1,"div",1),t.YNc(2,y,4,1,"div",2),t.YNc(3,J,4,4,"form",3),t.qZA()),2&i&&(t.Q6J("ngIf",l.message),t.xp6(2),t.Q6J("ngIf",l.loading),t.xp6(1),t.Q6J("ngIf",l.form&&!l.loading))},dependencies:[n.mk,n.sg,n.O5,s._Y,s.YN,s.Kr,s.Fj,s.wV,s.EJ,s.JJ,s.JL,s.Q7,s.sg,s.u,_.N],styles:[".container[_ngcontent-%COMP%]{background-color:#fff;padding:2rem;border-radius:.5rem;box-shadow:0 .5rem 1rem #0000001a}.alert[_ngcontent-%COMP%]{position:fixed;top:20px;right:20px;z-index:1050;border-radius:4px;animation:_ngcontent-%COMP%_fadeAlert .5s}@keyframes _ngcontent-%COMP%_fadeAlert{0%{opacity:0;transform:translate(100%)}to{opacity:1;transform:translate(0)}}"]})}return o})()},5861:(F,C,u)=>{function t(n,_,v,g,y,h,d){try{var x=n[h](d),f=x.value}catch(I){return void v(I)}x.done?_(f):Promise.resolve(f).then(g,y)}function s(n){return function(){var _=this,v=arguments;return new Promise(function(g,y){var h=n.apply(_,v);function d(f){t(h,g,y,d,x,"next",f)}function x(f){t(h,g,y,d,x,"throw",f)}d(void 0)})}}u.d(C,{Z:()=>s})}}]);