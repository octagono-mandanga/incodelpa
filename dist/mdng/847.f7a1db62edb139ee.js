"use strict";(self.webpackChunkmdng=self.webpackChunkmdng||[]).push([[847],{8847:(te,_,c)=>{c.r(_),c.d(_,{SecretariaCursosModule:()=>re});var l=c(6814),d=c(6985),e=c(9468),u=c(932),v=c(5154);let b=(()=>{class t{constructor(r){this.crudService=r,this.data=[],this.success=!0,this.loading=!1,this.config={columns:[{key:"nombre",displayName:"Curso"},{key:"lectivo.nivel.nombre",displayName:"Nivel"},{key:"grado.nombre",displayName:"Grado"},{key:"director.primer_nombre",displayName:"Director"},{key:"director.primer_apellido",displayName:""},{key:"sede.nombre",displayName:"Sede"},{key:"estado",displayName:"Estado"}],actions:{view:"/secretaria/cursos/view/"}}}ngOnInit(){this.loading=!0,this.crudService.read("/secretaria/cursos").subscribe({next:r=>{this.data=r,this.loading=!1},error:r=>{console.error("Error al obtener los areas:",r)}})}onBorrar(r){this.loading=!0,this.crudService.delete("/secretaria/cursos/"+r).subscribe({next:o=>{this.data=this.data.filter(i=>i.id!==r),this.message=o.message,this.success=!1,this.loading=!1},error:o=>{this.message="Error al actualizar "+o,this.success=!1,this.loading=!1}}),setTimeout(()=>{this.message=""},5e3)}static#e=this.\u0275fac=function(o){return new(o||t)(e.Y36(u.I))};static#r=this.\u0275cmp=e.Xpm({type:t,selectors:[["app-secretaria-cursos"]],decls:5,vars:5,consts:[["aria-label","breadcrumb"],[1,"breadcrumb"],["aria-current","page",1,"breadcrumb-item","active"],[3,"data","loading","message","success","config","event"]],template:function(o,i){1&o&&(e.TgZ(0,"nav",0)(1,"ol",1)(2,"li",2),e._uU(3,"Cursos"),e.qZA()()(),e.TgZ(4,"app-datatable",3),e.NdJ("event",function(a){return i.onBorrar(a)}),e.qZA()),2&o&&(e.xp6(4),e.Q6J("data",i.data)("loading",i.loading)("message",i.message)("success",i.success)("config",i.config))},dependencies:[v.n]})}return t})();var p=c(5861),f=c(6688);function Z(t,n){if(1&t&&(e.TgZ(0,"a",21),e._uU(1),e.qZA()),2&t){const r=n.$implicit;e.ekj("active",0===n.index),e.uIk("id","pill"+r.id)("data-bs-target","#pillContent"+r.id),e.xp6(1),e.hij(" ",r.materia.nombre," ")}}function h(t,n){if(1&t){const r=e.EpF();e.TgZ(0,"li",32),e.NdJ("click",function(){const s=e.CHM(r).$implicit,a=e.oxw(3);return e.KtG(a.onAlumno(s.id))}),e.TgZ(1,"div",33)(2,"div",24),e._UZ(3,"img",34),e.qZA(),e.TgZ(4,"div",26)(5,"h6",27),e._uU(6),e.qZA(),e.TgZ(7,"p",28),e._uU(8),e.qZA()()(),e._UZ(9,"div"),e.qZA()}if(2&t){const r=n.$implicit;e.xp6(3),e.Q6J("src",r.avatar_url,e.LSH),e.xp6(3),e.AsE(" ",r.primer_apellido," ",r.segundo_apellido," "),e.xp6(2),e.AsE(" ",r.primer_nombre," ",r.segundo_nombre," ")}}function x(t,n){if(1&t){const r=e.EpF();e.TgZ(0,"div",22)(1,"div",23),e.NdJ("click",function(){const s=e.CHM(r).$implicit,a=e.oxw(2);return e.KtG(a.onDocente(s.docente.id))}),e.TgZ(2,"div",24),e._UZ(3,"img",25),e.qZA(),e.TgZ(4,"div",26)(5,"h6",27),e._uU(6),e.ALo(7,"uppercase"),e.qZA(),e.TgZ(8,"p",27),e._uU(9),e.qZA(),e.TgZ(10,"p",28)(11,"small",29),e._uU(12," Docente "),e.qZA()()()(),e.TgZ(13,"ul",30),e.YNc(14,h,10,5,"li",31),e.qZA()()}if(2&t){const r=n.$implicit,o=n.index,i=e.oxw(2);e.ekj("active",0===o)("show",0===o),e.uIk("id","pillContent"+r.id),e.xp6(3),e.Q6J("src",r.docente.avatar_url,e.LSH),e.xp6(3),e.hij(" ",e.lcZ(7,12,r.materia.nombre)," "),e.xp6(3),e.HOy(" ",r.docente.primer_nombre," ",r.docente.segundo_nombre," ",r.docente.primer_apellido," ",r.docente.segundo_apellido," "),e.xp6(5),e.Q6J("ngForOf",i.alumnos)}}function A(t,n){if(1&t){const r=e.EpF();e.TgZ(0,"li",32),e.NdJ("click",function(){const s=e.CHM(r).$implicit,a=e.oxw(3);return e.KtG(a.onAlumno(s.id))}),e.TgZ(1,"div",33)(2,"div",24),e._UZ(3,"img",34),e.qZA(),e.TgZ(4,"div",26)(5,"h6",27),e._uU(6),e.qZA(),e.TgZ(7,"p",28),e._uU(8),e.qZA()()(),e._UZ(9,"div"),e.qZA()}if(2&t){const r=n.$implicit;e.xp6(3),e.Q6J("src",r.avatar_url,e.LSH),e.xp6(3),e.AsE(" ",r.primer_apellido," ",r.segundo_apellido," "),e.xp6(2),e.AsE(" ",r.primer_nombre," ",r.segundo_nombre," ")}}function T(t,n){if(1&t&&(e.TgZ(0,"ul",30),e.YNc(1,A,10,5,"li",31),e.qZA()),2&t){const r=e.oxw(2);e.xp6(1),e.Q6J("ngForOf",r.alumnos)}}function C(t,n){if(1&t&&(e.TgZ(0,"div",14)(1,"div",15)(2,"div",16),e.YNc(3,Z,2,5,"a",17),e.qZA(),e.TgZ(4,"div",18),e.YNc(5,x,15,14,"div",19),e.qZA()(),e.YNc(6,T,2,1,"ul",20),e.qZA()),2&t){const r=e.oxw();e.xp6(3),e.Q6J("ngForOf",r.asignaciones),e.xp6(2),e.Q6J("ngForOf",r.asignaciones),e.xp6(1),e.Q6J("ngIf",0==r.asignaciones.length)}}const q=function(){return["/coordinacion/cursos/asignacion/"]};let y=(()=>{class t{constructor(r){this.router=r,this.loading=!1,this.asignaciones=[],this.alumnos=[]}ngOnInit(){}onDocente(r){this.router.navigate([this.config.actions.docente,r])}onAlumno(r){this.router.navigate([this.config.actions.alumno,r])}static#e=this.\u0275fac=function(o){return new(o||t)(e.Y36(d.F0))};static#r=this.\u0275cmp=e.Xpm({type:t,selectors:[["app-curso-notas"]],inputs:{loading:"loading",asignaciones:"asignaciones",alumnos:"alumnos",config:"config"},decls:25,vars:3,consts:[[1,"col-xs-12","col-md-12"],[1,"card","shadow-sm"],[1,"card-header"],[1,"d-flex","justify-content-end"],[1,"btn-group"],[1,"dropdown"],["type","button","data-bs-toggle","dropdown",1,"btn","btn-sm","btn-dark","dropdown-toggle"],[1,"fa-solid","fa-cog","fa-sm"],[1,"dropdown-menu"],[1,"dropdown-header"],["href","#",1,"dropdown-item"],[1,"dropdown-item",3,"routerLink"],[1,"dropdown-divider"],["class","card-body p-0",4,"ngIf"],[1,"card-body","p-0"],[1,"d-flex","align-items-start"],["id","v-pills-tab",1,"nav","flex-column","nav-pills","me-3",2,"flex","0 0 auto","width","25%"],["class","nav-link","data-bs-toggle","pill",3,"active",4,"ngFor","ngForOf"],["id","tabContent",1,"tab-content",2,"flex","1"],["class","tab-pane fade",3,"active","show",4,"ngFor","ngForOf"],["class","list-group list-group-flush",4,"ngIf"],["data-bs-toggle","pill",1,"nav-link"],[1,"tab-pane","fade"],[1,"d-flex","mt-1","p-2","mb-2","border-bottom","cursor",2,"background-color","#e9ecef",3,"click"],[1,"flex-shrink-0"],["alt","","width","64",1,"rounded-circle",3,"src"],[1,"flex-grow-1","ms-3"],[1,"my-0"],[1,"mb-0"],[1,"text-secondary"],[1,"list-group","list-group-flush"],["class","list-group-item pb-1 cursor",3,"click",4,"ngFor","ngForOf"],[1,"list-group-item","pb-1","cursor",3,"click"],[1,"d-flex"],["alt","","width","40",1,"rounded-circle",3,"src"]],template:function(o,i){1&o&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5)(6,"button",6),e._UZ(7,"i",7),e.qZA(),e.TgZ(8,"div",8)(9,"h6",9),e._uU(10,"Gestionar"),e.qZA(),e.TgZ(11,"a",10),e._uU(12,"Notas Extras"),e.qZA(),e.TgZ(13,"a",11),e._uU(14,"Asignar Docentes"),e.qZA(),e.TgZ(15,"a",10),e._uU(16,"Matricular"),e.qZA(),e._UZ(17,"div",12),e.TgZ(18,"a",10),e._uU(19,"Boletines"),e.qZA(),e.TgZ(20,"a",10),e._uU(21,"Consolidados"),e.qZA(),e.TgZ(22,"a",10),e._uU(23,"Puestos"),e.qZA()()()()()(),e.YNc(24,C,7,3,"div",13),e.qZA()()),2&o&&(e.xp6(13),e.Q6J("routerLink",e.DdM(2,q)),e.xp6(11),e.Q6J("ngIf",!i.loading))},dependencies:[l.sg,l.O5,d.rH,l.gd],styles:[".disponibles[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   small[_ngcontent-%COMP%]{font-size:.9rem}.disponibles[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:.7rem}.nav[_ngcontent-%COMP%]{background-color:#f6f6f6}.nav-link[_ngcontent-%COMP%]{transition:background-color .2s ease-in-out;border-radius:0}.nav-link[_ngcontent-%COMP%]:hover{background-color:#f8f9fa;cursor:pointer;border-right:1px solid #7d8288}.nav-link.active[_ngcontent-%COMP%]{background-color:#e9ecef;color:#495057;border-right:1px solid #7d8288}.cursor[_ngcontent-%COMP%]:hover{background-color:#f6f6f6;border-left:1px solid #7d8288}"]})}return t})();function U(t,n){if(1&t&&(e.TgZ(0,"li",8),e._uU(1),e.qZA()),2&t){const r=e.oxw();e.xp6(1),e.Oqu(r.data.nombre)}}function w(t,n){1&t&&(e.TgZ(0,"div",9)(1,"div",10)(2,"div",11)(3,"div",12),e._UZ(4,"app-loading",13),e.TgZ(5,"h4",14),e._uU(6," Cargando... "),e.qZA()()()()())}const S=function(t){return["/secretaria/cursos/matricular",t]};function N(t,n){if(1&t&&(e.TgZ(0,"div",15)(1,"h3",16),e._uU(2),e.qZA(),e.TgZ(3,"p",17),e._uU(4),e.qZA(),e.TgZ(5,"p",18),e._uU(6),e.qZA(),e.TgZ(7,"div",19)(8,"div",20)(9,"button",21),e._uU(10," Acciones "),e.qZA(),e.TgZ(11,"ul",22)(12,"li")(13,"h6",23),e._uU(14,"Alumnos"),e.qZA()(),e.TgZ(15,"li")(16,"a",24),e._uU(17,"Matricular"),e.qZA()(),e.TgZ(18,"li"),e._UZ(19,"hr",25),e.qZA(),e.TgZ(20,"li")(21,"a",26),e._uU(22,"Separated link"),e.qZA()()(),e.TgZ(23,"button",27),e._uU(24," Documentos "),e.qZA(),e.TgZ(25,"ul",22)(26,"li")(27,"a",26),e._uU(28,"Action"),e.qZA()(),e.TgZ(29,"li")(30,"a",26),e._uU(31,"Another action"),e.qZA()(),e.TgZ(32,"li")(33,"a",26),e._uU(34,"Something else here"),e.qZA()(),e.TgZ(35,"li"),e._UZ(36,"hr",25),e.qZA(),e.TgZ(37,"li")(38,"a",26),e._uU(39,"Separated link"),e.qZA()()()()()()),2&t){const r=e.oxw();e.xp6(2),e.lnq("Sede ",r.data.sede.nombre," / ",r.data.grado.nombre," [",r.data.nombre," ]"),e.xp6(2),e.lnq("Coordinaci\xf3n: ",r.data.coordinador.primer_nombre," ",r.data.coordinador.segundo_nombre," ",r.data.coordinador.primer_apellido,""),e.xp6(2),e.lnq("Direcci\xf3n: ",r.data.director.primer_nombre," ",r.data.director.segundo_nombre," ",r.data.director.primer_apellido,""),e.xp6(10),e.Q6J("routerLink",e.VKq(10,S,r.id))}}function k(t,n){if(1&t&&(e.TgZ(0,"div",28),e._UZ(1,"app-curso-notas",29),e.qZA()),2&t){const r=e.oxw();e.xp6(1),e.Q6J("asignaciones",r.asignaciones)("alumnos",r.matriculados)("config",r.config)}}let I=(()=>{class t{constructor(r,o,i){this.route=r,this.crudService=o,this.crudAsignacionService=i,this.success=!0,this.loading=!1,this.asignaciones=[],this.disponibles=[],this.matriculados=[]}ngOnInit(){var r=this;return(0,p.Z)(function*(){r.loading=!0,r.id=r.route.snapshot.params.id,r.config={role:"secretaria",actions:{docente:"/secretaria/docentes/view",alumno:"/secretaria/alumnos/view"}},yield r.crudService.read("/secretaria/cursos/"+r.id).subscribe({next:o=>{r.data=o.data,r.matriculados=o.data.matriculas.map(i=>i.alumno),r.ordenarMatriculados(),r.loading=!1},error:o=>{r.message="Error al cargar el curso : "+o,r.success=!1,r.loading=!1}}),yield r.crudAsignacionService.read("/secretaria/asignaciones/curso/"+r.id).subscribe({next:o=>{r.disponibles=o.disponibles,r.asignaciones=o.asignaciones,r.loading=!1},error:o=>{r.message="Error al cargar el curso : "+o,r.success=!1,r.loading=!1}})})()}ordenarMatriculados(){this.matriculados.sort((r,o)=>{const i=r.primer_apellido+r.segundo_apellido,s=o.primer_apellido+o.segundo_apellido,a=r.primer_nombre+r.segundo_nombre,m=o.primer_nombre+o.segundo_nombre;return i<s?-1:i>s?1:a<m?-1:a>m?1:0})}static#e=this.\u0275fac=function(o){return new(o||t)(e.Y36(d.gz),e.Y36(u.I),e.Y36(u.I))};static#r=this.\u0275cmp=e.Xpm({type:t,selectors:[["app-secretaria-cursos-view"]],decls:9,vars:4,consts:[["aria-label","breadcrumb"],[1,"breadcrumb"],[1,"breadcrumb-item"],["routerLink","/secretaria/cursos"],["class","breadcrumb-item active","aria-current","page",4,"ngIf"],["class","card",4,"ngIf"],["class","alert alert-light",4,"ngIf"],["class","row",4,"ngIf"],["aria-current","page",1,"breadcrumb-item","active"],[1,"card"],[1,"card-body"],[1,"container","mt-3"],[1,"d-flex","justify-content-center"],["size","30px"],[1,"ms-2","text-secondary"],[1,"alert","alert-light"],[1,"alert-heading","text-dark","text-end","mb-0"],[1,"alert-heading","text-secondary","text-end","mb-0"],[1,"alert-heading","text-secondary","text-end","mb-0","border-bottom"],[1,"d-flex","justify-content-start","mt-2"],[1,"btn-group"],["type","button","data-bs-toggle","dropdown","aria-expanded","false",1,"btn","btn-danger","btn-sm","me-2","dropdown-toggle"],[1,"dropdown-menu"],[1,"dropdown-header"],[1,"dropdown-item",3,"routerLink"],[1,"dropdown-divider"],["href","#",1,"dropdown-item"],["type","button","data-bs-toggle","dropdown","aria-expanded","false",1,"btn","btn-dark","btn-sm","dropdown-toggle"],[1,"row"],[3,"asignaciones","alumnos","config"]],template:function(o,i){1&o&&(e.TgZ(0,"nav",0)(1,"ol",1)(2,"li",2)(3,"a",3),e._uU(4,"Cursos"),e.qZA()(),e.YNc(5,U,2,1,"li",4),e.qZA()(),e.YNc(6,w,7,0,"div",5),e.YNc(7,N,40,12,"div",6),e.YNc(8,k,2,3,"div",7)),2&o&&(e.xp6(5),e.Q6J("ngIf",i.data),e.xp6(1),e.Q6J("ngIf",i.loading),e.xp6(1),e.Q6J("ngIf",!i.loading),e.xp6(1),e.Q6J("ngIf",!i.loading))},dependencies:[l.O5,d.rH,f.N,y]})}return t})();var g=c(95),J=c(5574);const M=function(t){return["/secretaria/cursos/view",t]};function Q(t,n){if(1&t&&(e.TgZ(0,"li",2)(1,"a",9),e._uU(2),e.qZA()()),2&t){const r=e.oxw();e.xp6(1),e.Q6J("routerLink",e.VKq(2,M,r.id)),e.xp6(1),e.Oqu(r.data.nombre)}}function Y(t,n){1&t&&(e.TgZ(0,"li",10),e._uU(1,"Matriculas"),e.qZA())}function O(t,n){1&t&&(e.TgZ(0,"div",11)(1,"div",12)(2,"div",13)(3,"div",14),e._UZ(4,"app-loading",15),e.TgZ(5,"h4",16),e._uU(6," Cargando... "),e.qZA()()()()())}const F=function(t){return["/secretaria/cursos/matricular",t]};function L(t,n){if(1&t&&(e.TgZ(0,"div",17)(1,"h3",18),e._uU(2),e.qZA(),e.TgZ(3,"p",19),e._uU(4),e.qZA(),e.TgZ(5,"p",20),e._uU(6),e.qZA(),e.TgZ(7,"div",21)(8,"div",22)(9,"button",23),e._uU(10," Acciones "),e.qZA(),e.TgZ(11,"ul",24)(12,"li")(13,"h6",25),e._uU(14,"Alumnos"),e.qZA()(),e.TgZ(15,"li")(16,"a",26),e._uU(17,"Matricular"),e.qZA()(),e.TgZ(18,"li"),e._UZ(19,"hr",27),e.qZA(),e.TgZ(20,"li")(21,"a",28),e._uU(22,"Separated link"),e.qZA()()(),e.TgZ(23,"button",29),e._uU(24," Documentos "),e.qZA(),e.TgZ(25,"ul",24)(26,"li")(27,"a",28),e._uU(28,"Action"),e.qZA()(),e.TgZ(29,"li")(30,"a",28),e._uU(31,"Another action"),e.qZA()(),e.TgZ(32,"li")(33,"a",28),e._uU(34,"Something else here"),e.qZA()(),e.TgZ(35,"li"),e._UZ(36,"hr",27),e.qZA(),e.TgZ(37,"li")(38,"a",28),e._uU(39,"Separated link"),e.qZA()()()()()()),2&t){const r=e.oxw();e.xp6(2),e.lnq("Sede ",r.data.sede.nombre," / ",r.data.grado.nombre," [",r.data.nombre," ]"),e.xp6(2),e.lnq("Coordinaci\xf3n: ",r.data.coordinador.primer_nombre," ",r.data.coordinador.segundo_nombre," ",r.data.coordinador.primer_apellido,""),e.xp6(2),e.lnq("Direcci\xf3n: ",r.data.director.primer_nombre," ",r.data.director.segundo_nombre," ",r.data.director.primer_apellido,""),e.xp6(10),e.Q6J("routerLink",e.VKq(10,F,r.id))}}function E(t,n){if(1&t&&(e.TgZ(0,"li",43)(1,"div",44)(2,"div",45),e._UZ(3,"img",46),e.qZA(),e.TgZ(4,"div",47)(5,"h6",48),e._uU(6),e.qZA(),e.TgZ(7,"p",33),e._uU(8),e.qZA()()(),e._UZ(9,"div"),e.qZA()),2&t){const r=n.$implicit;e.xp6(3),e.Q6J("src",r.avatar_url,e.LSH),e.xp6(3),e.AsE(" ",r.primer_apellido," ",r.segundo_apellido," "),e.xp6(2),e.AsE(" ",r.primer_nombre," ",r.segundo_nombre," ")}}const P=function(t){return["/secretaria/cursos/regalumno",t]};function V(t,n){if(1&t){const r=e.EpF();e.TgZ(0,"div",30)(1,"div",31)(2,"div",11)(3,"div",32)(4,"h6",33),e._uU(5,"Alumnos Matriculados"),e.qZA()(),e.TgZ(6,"div",12)(7,"ul",34),e.YNc(8,E,10,5,"li",35),e.qZA()()()(),e.TgZ(9,"div",36)(10,"div",37)(11,"div",12)(12,"app-alumno-buscar",38),e.NdJ("event",function(i){e.CHM(r);const s=e.oxw();return e.KtG(s.onEvent(i))}),e.qZA()()(),e.TgZ(13,"div",11)(14,"div",32)(15,"div",39)(16,"h6",40),e._uU(17,"Recomendaciones"),e.qZA(),e.TgZ(18,"a",41),e._uU(19," Nuevo "),e.qZA()()(),e._UZ(20,"div",12),e.qZA()(),e.TgZ(21,"div",42),e._uU(22," Adsense "),e.qZA()()}if(2&t){const r=e.oxw();e.xp6(8),e.Q6J("ngForOf",r.matriculados),e.xp6(4),e.Q6J("users",r.searchList)("loading",r.loading2),e.xp6(6),e.Q6J("routerLink",e.VKq(4,P,r.id))}}let H=(()=>{class t{constructor(r,o,i,s,a){this.route=r,this.router=o,this.crudService=i,this.crudAsignacionService=s,this.fb=a,this.success=!0,this.loading=!1,this.loading2=!1,this.asignaciones=[],this.disponibles=[],this.matriculados=[],this.searchList=[]}ngOnInit(){var r=this;return(0,p.Z)(function*(){r.loading=!0,r.id=r.route.snapshot.params.id,yield r.crudService.read("/secretaria/cursos/"+r.id).subscribe({next:o=>{r.data=o.data,r.matriculados=o.data.matriculas.map(i=>i.alumno),r.ordenarMatriculados(),r.loading=!1},error:o=>{r.message="Error al cargar el curso : "+o,r.success=!1,r.loading=!1}})})()}onSearch(){}onEvent(r){var o=this;return(0,p.Z)(function*(){r.term?(o.loading2=!0,yield o.crudService.read("/secretaria/alumnos/search/"+r.term).subscribe({next:i=>{o.searchList=i.data,o.loading2=!1},error:i=>{o.message="Error al cargar el curso : "+i,o.success=!1,o.loading=!1}})):r.user&&o.router.navigate(["/secretaria/alumnos/view/",r.user])})()}ordenarMatriculados(){this.matriculados.sort((r,o)=>{const i=r.primer_apellido+r.segundo_apellido,s=o.primer_apellido+o.segundo_apellido,a=r.primer_nombre+r.segundo_nombre,m=o.primer_nombre+o.segundo_nombre;return i<s?-1:i>s?1:a<m?-1:a>m?1:0})}static#e=this.\u0275fac=function(o){return new(o||t)(e.Y36(d.gz),e.Y36(d.F0),e.Y36(u.I),e.Y36(u.I),e.Y36(g.qu))};static#r=this.\u0275cmp=e.Xpm({type:t,selectors:[["app-secretaria-cursos-matricular"]],decls:10,vars:5,consts:[["aria-label","breadcrumb"],[1,"breadcrumb"],[1,"breadcrumb-item"],["routerLink","/secretaria/cursos"],["class","breadcrumb-item",4,"ngIf"],["class","breadcrumb-item active","aria-current","page",4,"ngIf"],["class","card",4,"ngIf"],["class","alert alert-light",4,"ngIf"],["class","row",4,"ngIf"],[3,"routerLink"],["aria-current","page",1,"breadcrumb-item","active"],[1,"card"],[1,"card-body"],[1,"container","mt-3"],[1,"d-flex","justify-content-center"],["size","30px"],[1,"ms-2","text-secondary"],[1,"alert","alert-light"],[1,"alert-heading","text-dark","text-end","mb-0"],[1,"alert-heading","text-secondary","text-end","mb-0"],[1,"alert-heading","text-secondary","text-end","mb-0","border-bottom"],[1,"d-flex","justify-content-start","mt-2"],[1,"btn-group"],["type","button","data-bs-toggle","dropdown","aria-expanded","false",1,"btn","btn-danger","btn-sm","me-2","dropdown-toggle"],[1,"dropdown-menu"],[1,"dropdown-header"],[1,"dropdown-item",3,"routerLink"],[1,"dropdown-divider"],["href","#",1,"dropdown-item"],["type","button","data-bs-toggle","dropdown","aria-expanded","false",1,"btn","btn-dark","btn-sm","dropdown-toggle"],[1,"row"],[1,"col-4"],[1,"card-header","bg-transparent"],[1,"mb-0"],[1,"list-group","list-group-flush"],["class","list-group-item px-0 pb-1",4,"ngFor","ngForOf"],[1,"col-5"],[1,"card","mb-2"],[3,"users","loading","event"],[1,"d-flex","justify-content-between"],[1,"mb-0","py-1"],[1,"btn","btn-sm","btn-success",3,"routerLink"],[1,"col-3"],[1,"list-group-item","px-0","pb-1"],[1,"d-flex"],[1,"flex-shrink-0"],["alt","","width","40",3,"src"],[1,"flex-grow-1","ms-3"],[1,"my-0"]],template:function(o,i){1&o&&(e.TgZ(0,"nav",0)(1,"ol",1)(2,"li",2)(3,"a",3),e._uU(4,"Cursos"),e.qZA()(),e.YNc(5,Q,3,4,"li",4),e.YNc(6,Y,2,0,"li",5),e.qZA()(),e.YNc(7,O,7,0,"div",6),e.YNc(8,L,40,12,"div",7),e.YNc(9,V,23,6,"div",8)),2&o&&(e.xp6(5),e.Q6J("ngIf",i.data),e.xp6(1),e.Q6J("ngIf",i.data),e.xp6(1),e.Q6J("ngIf",i.loading),e.xp6(1),e.Q6J("ngIf",!i.loading),e.xp6(1),e.Q6J("ngIf",!i.loading))},dependencies:[l.sg,l.O5,d.rH,f.N,J.i]})}return t})();var j=c(2451),z=c(4036),D=c(4013);const B=function(t){return["/secretaria/cursos/view",t]};function K(t,n){if(1&t&&(e.TgZ(0,"li",2)(1,"a",7),e._uU(2),e.qZA()()),2&t){const r=e.oxw();e.xp6(1),e.Q6J("routerLink",e.VKq(2,B,r.id)),e.xp6(1),e.Oqu(r.curso.nombre)}}const R=function(t){return["/secretaria/cursos/matricular",t]};function $(t,n){if(1&t&&(e.TgZ(0,"li",2)(1,"a",7),e._uU(2,"Matriculas"),e.qZA()()),2&t){const r=e.oxw();e.xp6(1),e.Q6J("routerLink",e.VKq(1,R,r.id))}}function G(t,n){1&t&&(e.TgZ(0,"li",8),e._uU(1,"Nuevo"),e.qZA())}const X=[{path:"",component:b},{path:"view/:id",component:I},{path:"matricular/:id",component:H},{path:"regalumno/:id",component:(()=>{class t{constructor(r,o,i,s,a){this.route=r,this.crudService=o,this.crudCursoService=i,this.crudTipodocumentoService=s,this.fb=a,this.success=!0,this.loading=!1}ngOnInit(){var r=this;return(0,p.Z)(function*(){r.loading=!0,r.id=r.route.snapshot.params.id,r.config={columns:[{key:"primer_apellido",displayName:"Primer Apellido",required:!0,type:"text"},{key:"segundo_apellido",displayName:"Segundo Apellido",required:!1,type:"text"},{key:"primer_nombre",displayName:"Primer Nombre",required:!0,type:"text"},{key:"segundo_nombre",displayName:"Segundo Nombre",required:!1,type:"text"},{key:"celular",displayName:"Numero Celular",required:!0,type:"text"},{key:"email",displayName:"Email",required:!0,type:"email"},{key:"tipo_documento",displayName:"Tipo Documento",required:!0,type:"select",options:[]},{key:"nid",displayName:"Numero Documento",required:!0,type:"text"},{key:"curso",type:"hidden",value:r.id}],actions:{}};const i=(yield(0,z.z)(r.crudTipodocumentoService.read("/secretaria/tipo_documentos"))).filter(a=>"activo"===a.estado).map(a=>({value:a.id.toString(),displayValue:a.nombre})),s=r.config.columns.find(a=>"tipo_documento"===a.key);s&&(s.options=i),yield r.crudCursoService.read("/secretaria/cursos/"+r.id).subscribe({next:a=>{r.data=new j.n,r.curso=a.data,r.loading=!1},error:a=>{r.message="Error al cargar el curso : "+a,r.success=!1,r.loading=!1}})})()}onAgregar(r){r.curso=this.id,this.loading=!0,this.crudService.create(r,"/secretaria/alumnos").subscribe({next:o=>{this.message=o.message,this.success=!0,this.loading=!1},error:o=>{this.message="Error al crear el docente : "+o,this.success=!1,this.loading=!1}}),setTimeout(()=>{this.message=""},5e3)}static#e=this.\u0275fac=function(o){return new(o||t)(e.Y36(d.gz),e.Y36(u.I),e.Y36(u.I),e.Y36(u.I),e.Y36(g.qu))};static#r=this.\u0275cmp=e.Xpm({type:t,selectors:[["app-secretaria-cursos-registro-alumno"]],decls:9,vars:7,consts:[["aria-label","breadcrumb"],[1,"breadcrumb"],[1,"breadcrumb-item"],["routerLink","/secretaria/cursos"],["class","breadcrumb-item",4,"ngIf"],["class","breadcrumb-item active","aria-current","page",4,"ngIf"],[3,"loading","message","success","config","event"],[3,"routerLink"],["aria-current","page",1,"breadcrumb-item","active"]],template:function(o,i){1&o&&(e.TgZ(0,"nav",0)(1,"ol",1)(2,"li",2)(3,"a",3),e._uU(4,"Cursos"),e.qZA()(),e.YNc(5,K,3,4,"li",4),e.YNc(6,$,3,3,"li",4),e.YNc(7,G,2,0,"li",5),e.qZA()(),e.TgZ(8,"app-formulario",6),e.NdJ("event",function(a){return i.onAgregar(a)}),e.qZA()),2&o&&(e.xp6(5),e.Q6J("ngIf",i.curso),e.xp6(1),e.Q6J("ngIf",i.curso),e.xp6(1),e.Q6J("ngIf",i.curso),e.xp6(1),e.Q6J("loading",i.loading)("message",i.message)("success",i.success)("config",i.config))},dependencies:[l.O5,d.rH,D.o]})}return t})()}];let W=(()=>{class t{static#e=this.\u0275fac=function(o){return new(o||t)};static#r=this.\u0275mod=e.oAB({type:t});static#t=this.\u0275inj=e.cJS({imports:[d.Bz.forChild(X),d.Bz]})}return t})();var ee=c(6208);let re=(()=>{class t{static#e=this.\u0275fac=function(o){return new(o||t)};static#r=this.\u0275mod=e.oAB({type:t});static#t=this.\u0275inj=e.cJS({imports:[l.ez,W,g.UX,ee.m]})}return t})()}}]);